                   Miranda Instant Messenger Release Notes
                   ---------------------------------------

                             March 2005 (v0.4rc3)

                          http://www.miranda-im.org


Contents
--------

1. New in this version
2. Installation instructions
3. General notes
4. Troubleshooting
5. Compatibility issues
6. Contact
7. Support
8. License and Copyright



1. New in this version
----------------------

This section lists some of the changes between different releases. We have tried
to list all the important ones without getting too technical. 

If you want to see the full changelogs, go here:
http://www.miranda-im.org/testing/

[FINISH THIS SECTION FOR THE RELEASE]
* New in 0.4
Bugfixes:
 - Crashes after warning about unsuccessful search
 - ESC doesn't work in User Detail
 - Phrases with leading and trailing spaces not translateable
 - Incorrect Local time in Userinfo
 - CheckDlgButton didn't draw correctly if used after creation in button control
 - Offline users weren't always shown in Typing Notify Options
 - Ctrl+w closes message window
 - Moving a group outside the CLC causes a crash
 - Crash translating a menu
 - Scrollbar still appeared sometimes if XP skinning was enabled
 - Contact list control read-disk-on-paint bugs
 - Many database bug fixes (crashes, corruption)
 - Crash opening Find/Add dialog
 - No & sign in the Open File button on the File Transfer window
 - Visual defect in "Options\Contact List\Icons" when Expert options unchecked
 - AIM: Removing user from deny list didn't always update mode in Miranda
 - AIM: Fixed file transfers with Mac users
 - ICQ: Error alert blocked I/O
 - ICQ: Newly added contact with privacy setting is not hidden anymore
 - ICQ: Offline messages are no longer received older than existing ones
 - ICQ: Fixed authorisation reply
 - ICQ: Fixed contact transfer ack
 - ICQ: Now parses URL send ack correctly, no more timeout
 - ICQ: Now sending ack on contacts receive
 - ICQ: Fixed crash on receiving long message through P2P
 - MSN: Connection/login fixes
 - IRC: Many bug fixes

Enhancements:
 - Database and contact list control moved to plugins
 - Relative paths for icons, sounds, and contact list background
 - Scroll through past messages with ctrl+up/dn in message window
 - New idle module to handle autoaway and protocol idleness
 - Pin to desktop option in Window options
 - Dim idle contacts option
 - Use windows colours option for contact list
 - New status bar options (hide bevel, hide gripper)
 - Database I/O improvements
 - Option to hide vertical scroll bar
 - Opening a URL blocked I/O
 - AIM: Show mobile users as 'on the phone'
 - MSN: Sending/receiving avatar support
 - MSN: Peer to peer support
 - ICQ: Added avatar tab to user-details dialog to show avatar
 - ICQ: My user-details now show more information & added idle since to ICQ tab
 - ICQ: Added full unicode message support (requires SRMM Unicode)
 - ICQ: Added support for sending and receiving Idle time
 - ICQ: Added reliable client identification 
 - ICQ: Added support for avatar images (downloading & uploading).
 - ICQ: Added Grant authorisation option (send & recognize)
 - IRC: Support for secured connections using OpenSSL
 - IRC: Support for CTCP and DCC filetransfers and chats
 - IRC: New graphical user interface using Chat plugin
 - Jabber: Unicode support

* New in 0.3.3

Bugfixes:
 - Fixed crash when closing history window with large history
 - IE was always used as the default browser if IE was open
 - Added option to set outgoing port range
 - Several memleak fixes
 - Improved proxy handling
 - Rare crash on opening options
 - AutoNA was not set correctly when Away was set
 - Visibilty list did not list all users
 - Icons in URL and message contact menus didn't update when icons changed
 - Reduce CPU usage in file trnasfer dialogs (less screen updates)
 - Many other bug fixes
 - AIM: Unable to save "Only reply to users in your contact list" option
 - ICQ: Failed to send or receive files from ICQ 2003b.
 - ICQ: Fixed a number of smaller memory leaks.
 - ICQ: Contact e-mail info was not displayed correctly.
 - ICQ: Failed to retrieve user details during certain circumstances.
 - ICQ: URL messages could disappear when sent through a Direct Connection.
 - ICQ: Nick name was not deleted from server list when local nick name was deleted.
 - ICQ: Server side contacts could reappear after being deleted if they were on the visible/invisible lists.
 - ICQ: Changing status while connecting had no effect.
 - ICQ: A bunch of other fixes the CVS changelog if you want the big list.
 - Jabber: Should offline all chatrooms when go invisible (because they are actually offline)
 - Jabber: Miranda won't exit if more than one groupchat windows are left open
 - Jabber: Wrong filename encoding in file sending (signed/unsigned problem)
 - Jabber: Crash on connect/disconnect caused by stale contacts associated with an unknown protocol
 - Jabber: Deleting groupchat temporary contact unintentionally closes the chatroom
 - Jabber: Presence is broadcast to chatroom that has denied our access
 - Jabber: Graceful exit while Miranda shutdown in the middle of file transfer
 - MSN: A port remained opened after the file trasnfer cancel
 - MSN: if a contact list is very long, all contacts could be shown in the Offline mode
 - MSN: When you set your own nickname with spaces, it appears in the options dialog URL-encoded (with %20 instead of a space char).
 - MSN: Opened switchboard sessions weren't closed when you go offline without closing Miranda.
 - MSN: File senging does not require to talk anymore
 - MSN: Contacts with leading digits in the e-mail were not processed properly
 - MSN: Many other bug fixes

Enhancements:
 - New user is typing API (supported by ICQ/MSN/Jabber/Yahoo)
 - Messaging module moved to a plugin with many UI changes (SRMM)
 - AutoAway can now set protocols away if the workstation becomes locked
 - Improved button control (bitmap support, flat button support)
 - Added options to disable systray icon flashing and adjusting blink time
 - Default icon packs are automatically loaded from disk if they exist
 - Added report bug menu item
 - Many other enhancements
 - AIM: Added user search capability
 - AIM: Send messages to groupchat users by double clicking name
 - AIM: Added file receive support
 - ICQ: Added support for sending and receiving Typing Notifications.
 - ICQ: Now accepts messages formatted in unicode (note: this wont solve the problem with displaying messages with multiple charsets).
 - IRC: Contacts on the contactlist
 - IRC: Hostmasks
 - IRC: Ignore system
 - IRC: Channelmanager
 - Jabber: Manual registration to Jabber services
 - Jabber: Can automatically remove contacts not in roster
 - Jabber: Invite and accept invitation to a groupchat
 - Jabber: Support composing message event (message typing notification)
 - Jabber: Send full JID (with resource name) with <message/> when appropriate
 - MSN: 'User is typing' support added
 - MSN: "Invite to chat" contact menu item is added.
 - MSN: 'block/unlock' feature is integrated with Options->Status->Visible
 - MSN: New gateway support


* New in 0.3.2

Bugfixes:
 - Buffer overrun in url dialogs
 - Options window was shown off screen if previously closed while minimized
 - Some button controls were not translatable
 - Fixed issues with duplicate protocols listed in the icons options
 - AIM: Login flood when creating new users
 - AIM: Automatically turn off server-side list support for list that are to large (AIM)
 - AIM: Crashed when truncating large packets
 - AIM: Crash parsing empty server-side list
 - AIM: Warn User menu in groupchat was always disabled
 - Jabber: Better disco/browse fallback scheme for groupchat browsing
 - Jabber: Undecoded room jid in groupchat log window title
 - Jabber: Connection thread can lingering around while in reconnect loop and Miranda exits
 - Jabber: Changing global statuses to an unsupported one shows correct icon now (a bug introduced again in 0.1.1.2)
 - Jabber: Initial status in chatroom not correct
 - Jabber: Crash when displaying x:data list-single that has no default selection
 - Jabber: Multi-line x:data field truncated to first line
 - Jabber: Adding contacts when already exist in clist with "Hidden" does not remove "Hidden"
 - Jabber: Won't send ASCII control chars that are invalid XML chars (replaced with spaces)
 - Jabber: Properly offline when set offline while connecting
 - Jabber: Initial data sometimes not shown on agent dialog
 - Jabber: Connection thread still not exit properly when Miranda exits
 - Jabber: Another change in setstatus/setawaymsg handling
 - Jabber: Password dialog change to modeless
 - Jabber: Discard whitespaces not enclosed by any  XML tags so that they won't waste buffer space
 - MSN: Cookies usage had been turned off, it means that you can logon automatically into MSN Messenger and simultaneously logon using Miranda under different account (thanks to Pixador).
 - MSN: WinInet.dll now gets unloaded from memory after login to use less memory.
 - MSN: Attemp to find/add a contact that already exists in your contact list resulted to strange error message.
 - MSN: Authorization problems when many MSN accounts are used in the same Miranda installation.
 - MSN: If a password contains non-alphabetical characters (like punctuation, ampersand, plus, etc) the MSNP8 login could return error 401 Unauthorized. MSNP7 login works Ok.
 - MSN: If a contact changes its status to Invisible, it's not possible to send messages to him/her anymore.
 - MSN: The popup displaying procedure was changed to avoid so called 'frozen popups'effect.
 - MSN: New MSN Menu item was added to edit user's MSN profile in a browser
 - MSN: Authorization problems when many MSN accounts are used in the same Miranda installation.
 - MSN: If a password contains non-alphabetical characters (like punctuation, ampersand, plus, etc) the MSNP8 login could return error 401 Unauthorized. MSNP7 login works Ok.
 - MSN: If a contact changes its status to Invisible, it's not possible to send messages to him/her anymore.
 - MSN: the popup displaying procedure was changed to avoid so called 'frozen popups'effect.
 - ICQ: Prevent your status messages being read when you are invisible.
 - ICQ: Small memory leak when sending an SMS.
 - ICQ: Fixed a dumb bug that caused random disconnections from the ICQ server.
 - ICQ: Cleaned up the code for searches and user info updates, should work better now.
 - ICQ: AIM users in your server contact list would get added locally with uin 0.

Enhancements
 - Docking to the left or right side of the screen only happens when CONTROL is held down.
 - Possible to prevent writing of single key to registry on startup.
 - Possible to specify ports for outgoing connections.
 - Loading large histories now shows window immediately.
 - AIM: Added option to edit display name.
 - Jabber: Groupchat admin functions.
 - MSN: The SSL autorization procedure was changed: now it uses Internet Explorer's proxy settings to log in. It also resolves problems with proxies that require authorization (previously you could see the error 407 in the network log when trying to logon). In this case MSN plugin tries automatically to apply the login and the password from the Options -> Network -> MSN.
 - MSN: Error diagnostic has been slightly enhanced.
 - MSN: New MSN Menu item was added to edit user's MSN profile in a browser.
 - MSN: MSNP7 support is deleted and this option is locked
 - MSN: Netmeeting support added
 - MSN: Option was added to launch a specific program when the new Hotmail arrives
 - ICQ: Added "missed message" notification.
 - ICQ: Added better error messages for message send failures.
 - ICQ: Messages now default to the most reliable delivery method available for a given contact.


* New in 0.3.1

Major changes:
 - IRC protocol plugin is now included in the installer

Bugfixes:
 - Fixed tooltips cutting off text in systray on newer shells
 - Removed some memory leaks
 - Many bug fixes relating to the away system
 - CPU went to 100% if resized to small
 - Possible XP theme corruption in toolbar image buttons
 - Find/Add dialog showed protocols that didn't support the find/add service
 - Rename contact menu item is only shown when menu is shown from the contact list
 - Netlib could cause 100% CPU usage during fast file transfers
 - Menu items could sometimes be placed in the wrong order

Enhancements:
 - Redesigned message dialog
 - Added a heap compactor to flush out memory every 5 minutes
 - All new default icons
 - You can now set a sound for outgoing message
 - Autoaway no longer pops up change status message dialog
 - Added a Global Status Icons setting under icons. This lets you
   set the default systray icon and global status menu icons.


* New in 0.3

 Major changes:
 - ICQ module has been moved to a separate plugin. You can now
   run Miranda IM without ICQ
 - Bundled support for ICQ, AIM, Jabber and MSN
 
 Bugfixes:
 - Reply quoted sometimes closed window
 - Much safer multithreading. This will help make Miranda IM more stable.
 - Several "crash on exit" bugs fixed
 - If only specific protocols are invisible don't show contact's as always
   visible if their protocol is not invisible
 - Strange behaviour in the Auto away feature
 - New add/authorization dialog
 - Always/Never visible settings is now mutually exclusive
 - If already away or in NA, don't try to resend away/NA, this fixes the
   problem with the NA dialog reshown every five seconds, also fixes flooding
   of NA status changes to other contacts
 - File Transfer Complete sound would play even if that never happened, added
   a few extra sounds for "failed" and "denied".
 - Smarter database: Miranda now checks your profile carefully before opening to ensure that it's in proper    working order
 - Since the database is so smart, it also checks to see if your disk drive has actually
   written out new information, if it hasn't it shuts down, protecting the profile from major
   corruption (total data loss of a profile infact)
 - At least 2 gazillion internal fixes too complicated to explain (we dont
   even know what we did ;))
 
 Enhancements:
 - UI improvements to the plugins options page
 - Search dialog now remembers last protocol used
 - Added possibility to delete user with Del key
 - Improved integration with XP themes
 - Added menu in URL receive dialog (open in new/current window/copy link)
 - Multi line tray tooltips
 - Netlib now creates log path if it doesn't exist
 - Several optimizations to make Miranda IM run even faster and more stable
 - Made it possible to close read status message dialog with escape
 - Improved some of the error messages to make them easier to understand
 

* New in 0.2.1
 - Sending messages to ICQ users who are in 'Invisible' mode does not work
   if 'Send messages slower, but with full acknowledgement' option is enabled.
 - Sending message to users with old ICQ versions sometimes does not work.


* New in 0.2
 - Support for SOCKS4, SOCKS5, HTTP and HTTPS proxies.
 - Improved stability.
 - Some general user interface changes.
 - New default icons.
 - Faster filetransfers.
 - Import contacts and history from other Miranda profiles.
 - Import contacts and history from Mirabilis ICQ 99a-2003a.
 - Support for more plugins (>120 plugins available for download!).
 - more than 160 other bug fixes and improvements!
 - Ability to store and download contacts from the ICQ servers.
 - Increased compatibility while communicating with other ICQ clients.
 - Many bug fixes related to file transfers.
 - Allow/don't allow direct connections.
 - Enable/disable 'Web aware'.
 - Don't allow unknown contacts to read your status message.
 - Optionally send requests for authorizations.
 - Optionally send 'You have been added' notifications.


* New in 0.1.2.1
 - Improved contact list with support for background images,
   nested groups and lots more
 - Nifty new context-sensitive help plugin
 - Send messages to many people at once
 - Drag-and-drop file sending
 - Improved search and icq whitepages search
 - HTTP proxy support for ICQ
 - Options dialog revamp. Shows Expert mode option
 - More bug fixes than you can shake giant redwood at


* New in 0.1.2
 - Connects to the new ICQ servers for much more reliable communication
 - Improved support for connecting to other instant messaging networks
 - New user details dialog box
 - File transfer that actually works
 - Supports an SMS messaging plugin
 - Supports a plugin to change your own details from within Miranda
 - URL Clicking Support in Split Message Dialog Plugin
 - More bug fixes than you can shake giant redwood at


* New in 0.1.1
 - Setting Status Messages. E.G. Away/Occupied/DND....
 - Visible/Invisible List. E.G. Be invisible to a specific user
 - Import Plugin can now import History in addition to Contacts
 - Language Pack Support
 - File Transfer Dialog Improved



2. Installation Instructions
----------------------------

* Upgrading

To upgrade an existing Miranda IM installation, run the installer
and choose to install to the same folder. Your message history,
settings and contact list will be saved.

* First Installation

Run the installer and follow the instructions.



3. General Notes
----------------

Unlock the power of your new Miranda IM with plugins! There are now more
than 200 plugins available as free downloads:
http://www.miranda-im.org/download/index.php



4. Troubleshooting
------------------

If you have problems with Miranda:

a) Disable all plugins. If the problem is gone now, it was probably a
   bug in one of the plugins and not in Miranda IM itself.
b) Update to the latest alpha version.
   We regularly fix bugs in Miranda IM. If you are having a problem it
   might help to upgrade to the latest alpha version, maybe we already
   fixed it. You will find the "Nightly alpha builds" in the "Development"
   section of our website.
c) Check the list of known bugs.
   The official buglist is available at:
   http://bugs.miranda-im.org/
   Look here before you submit a new report, dont submit a new report if
   it has already been reported.
d) Submit a bugreport.



5. Compatibility issues
-----------------------

Miranda IM supports all released versions of Windows from
Windows 95 to Windows XP. Beta versions are not supported.

a) Windows 95

 - If you have trouble running Miranda IM on a Windows 95, make
   sure that you have Winsock and DUN upgrades installed.
 - Menu icons are not supported in Windows 95.
 - Window transparency is only supported on Windows 2000 and
   Windows XP.

b) IRC plugin and MSVCP60.DLL
 - The IRC plugin requires MSVCP60.DLL. If you dont have this
   file on your system, download it from:
   http://www.dll-files.com/dllindex/dll-files.shtml?msvcp60

c) Plugins
 - Third party plugins may have different requirements than
   Miranda IM itself. The Miranda IM developers cannot guarantee
   that all plugins will work on your system.



6. Contact
----------

a) Webpage 

The official webpage for the Miranda IM project is www.miranda-im.org.

b) Authors

Martin Öberg		 - Project Manager / Developer
			   strickz at miranda-im.org
Robert Rainwater	 - Developer
			   rainwater at miranda-im.org
Sam			 - Developer
			   egodust at miranda-im.org
Lyon Lymliz		 - Webmaster
			   lynlimz at miranda-im.org
Santithorn Bunchua	 - Jabber developer
George Hazan		 - MSN developer
Jörgen Persson		 - IRC developer


Miranda IM is made possible with the help of many more people.
A longer list of contributors can be found in the About box and
on the webpage.

Note: The developers do not provide user support by e-mail. See
section 7 for more information.

The source code is available at http://www.miranda-im.org/release/download.php



7. Support
----------

Miranda IM is provided free of charge but without any warranty or support.

If you have difficulties using Miranda IM, you can find a lot of resources in
the Help section of the website: http://www.miranda-im.org/help/

You can also ask for help in the official forums and someone will try to help.
But remember; everyone involved in the Miranda IM project are volunteers, as
in "does not get paid". So please be friendly and your chances of getting help
will increase.



8. License and Copyright
------------------------

Miranda IM is released under the terms of the GNU General Public License. See
"License.txt" for more details.

Miranda IM is copyright 2000-2003 by Richard Hughes, Roland Rabien,
Tristan Van de Vreede, Martin Öberg, Robert Rainwater, Sam Kothari, and Lyon Lim.

The plugins included with this release is copyrighted by their authors. See the
documentation for each plugin for more information.
